/*! jquery.modeswitcher.js (git@github.com:oosugi20/jquery.modeswitcher.js.git)
* 
 * lastupdate: 2013-10-09
 * version: 0.1.0
 * author: Makoto OOSUGI <oosugi20@gmail.com>
 * License: MIT
 */
!function(a){"use script";var b,c="Modeswitcher",d="modeswitcher";b=function(b,c){this.el=b,this.$el=a(b),this.options=a.extend({prefix:"type-"},c)},function(b){b.init=function(){this._prepareElms(),this._eventify()},b._prepareElms=function(){this.$content=this.$el.find("[data-modeswitcher-content]"),this.$controller=this.$el.find("[data-modeswitcher-controller]")},b._eventify=function(){var b=this;this.$el.on("click","[data-modeswitcher-btn]",function(c){var d=a(this).closest("[data-modeswitcher-controller]").attr("data-modeswitcher-controller"),e=a(this).attr("data-modeswitcher-btn");b.modeTo(d,e),c.preventDefault()})},b._getTargetContent=function(a){return this.$content.filter('[data-modeswitcher-content="'+a+'"]')},b._getTargetController=function(a){return this.$controller.filter('[data-modeswitcher-controller="'+a+'"]')},b.modeTo=function(a,b){var c=this.options.prefix,d=c+b,e=this._getTargetContent(a),f=this._getTargetController(a),g=f.attr("data-modeswitcher-mode"),h=c+g;e.removeClass(h),e.addClass(d),f.removeClass(h),f.addClass(d),f.attr("data-modeswitcher-mode",b),this.$el.trigger("modeswitcher:change")}}(b.prototype),a.fn[d]=function(c){return this.each(function(){var e;a.data(this,d)||(e=new b(this,c),a.data(this,d,e),e.init())})},a[c]=b}(jQuery,this);